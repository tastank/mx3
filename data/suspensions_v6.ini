[_EXTENSION]
TORQUE_MODE_EX=2                ;highly recommended

[HEADER]
VERSION=4

[BASIC]
WHEELBASE=2.455
CG_LOCATION=0.64                            ; Front Weight distribution in percentage

[ARB]
EXTEND = 1 				; Required to enable extended ARBs
FRONT_MOTION_RATIO = 0.463
; Antiroll bar stiffness front/rear, in N/m
FRONT = 14492; This is what I measured, but the car doesn't look like it's rolling as much as it should (though the spring rates may also be off).
REAR_MOTION_RATIO = 0.519
REAR = 34674 				; Rear anti-roll bar stiffness in N/m; same caveat as the front.
;FRONT=3170
;REAR=9340 ; this seems way too high but it's what I measured


[FRONT]
TYPE=COSMIC
BASEY=-0.29325
TRACK=1.537
; Positive raises ride height, negative lowers ride height. ; TODO do this right? not sure how exactly it's supposed to work.
ROD_LENGTH=0.08
HUB_MASS=35                                 ; Front sprung mass TODO measure this
RIM_OFFSET=0.04
TOE_OUT=0.00010                             ; Toe-out expressed as the length of the steering arm in meters        ;Final
STATIC_CAMBER=-0.1                          ; Static Camber in degrees. Actual camber relative to suspension geometry and movement, check values in game    ;Adjust to this value

DJ0=MX3_FLCA
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.40581, -0.03082, -0.009662
DJ0_POS_B=0.072457, -0.12533, 0.00421

DJ1=MX3_RLCA
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.40364, -0.029845, -0.33722
DJ1_POS_B=0.072457, -0.12533, 0.00421
DJ1_KP=0

J0=FRONT_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=MX3_STRUT_BODY
J0_POS=0.21683, 0.58468, -0.024653
J0_KP=1

STEER_JOINT_0=MX3_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.45596, 0.10518, -0.17028
STEER_JOINT_0_POS_B=0.11386, 0.037748, -0.12239

BODY_0_NAME=MX3_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.21683, 0.58468, -0.024653
BODY_0_MIRROR=1

SLIDER_0=MX3_STRUT_SLIDER
SLIDER_0_BODY_A=MX3_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.21683, 0.58468, -0.024653
SLIDER_0_POS_B=0.18131, 0.1131, -0.002825
SLIDER_0_PARITY=-1

[FRONT_COILOVER_0]
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=200
PRELOAD=0
BODY_A=MX3_STRUT_BODY
BODY_B=HUB_L
POS_A=0.21683, 0.58468, -0.024653
POS_B=0.18131, 0.1131, -0.002825
MIN_LENGTH=0.222658
MAX_LENGTH=0.4737422
BUMPSTOP_GAP=0.177
RATE=30348
; this comes from the values in the shop manual TODO re-check this, it's backwards-calculated from the shop manual values with a MR correction
DAMP_BUMP=2548                              ; Damper wheel rate stiffness in N sec/m in slow speed compression
DAMP_FAST_BUMP=980                         ; Damper wheel rate stiffness in N sec/m in fast speed compression
DAMP_FAST_BUMPTHRESHOLD=0.100               ; Damper bump slow/fast threshold in seconds
DAMP_REBOUND=7840                           ; Damper wheel rate stiffness in N sec/m in slow speed rebound
DAMP_FAST_REBOUND=1646.4                     ; Damper wheel rate stiffness in N sec/m in fast speed rebound
DAMP_FAST_REBOUNDTHRESHOLD=0.071            ; Damper rebound slow/fast threshold in seconds


[REAR]
TYPE=COSMIC

RIM_OFFSET=0.04
BASEY=-0.22 ; TODO Rough guess, but I'm not sure I can measure it
TRACK=1.5692
ROD_LENGTH=0.11 ; TODO I thought I understood this but I still don't
HUB_MASS=31 ; TODO measure this
TOE_OUT=0.010                               ; Toe-out expressed as the length of the steering arm in meters        ;Final
STATIC_CAMBER=-2.1                          ; Static Camber in degrees. Actual camber relative to suspension geometry and movement, check values in game    ;Adjust to this value
; strut piston bottom is .18401,.35955, -0.0447
BODY_0_NAME=REAR_STRUT_BODY
BODY_0_MASS=3
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.180250, 0.577750, -0.070541
BODY_0_MIRROR=1

DJ0=FRONT_LATERAL_ARM
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.487840, -0.081128,  0.102760
DJ0_POS_B=0.064137, -0.100440,  0.059357

STEER_JOINT_0 = REAR_LATERAL_ARM
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.487810, -0.081127, -0.098455
STEER_JOINT_0_POS_B=0.066008, -0.097456, -0.083945

DJ1=TRAILING_ARM
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.156000, -0.060074,  0.592720
DJ1_POS_B=0.109050, -0.174290,  0.016116

J0=REAR_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=REAR_STRUT_BODY
J0_POS=0.180250, 0.577750, -0.070541
J0_KP=1

SLIDER_0=REAR_STRUT_SLIDER
SLIDER_0_BODY_A=REAR_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.180250, 0.577750, -0.070541
SLIDER_0_POS_B=0.16548, 0.048939, -0.00553
SLIDER_0_PARITY=-1

[REAR_COILOVER_0]
PULL_FORCE=0			;1 for pull spring/damper, default 0 (normally-compressed spring/damper)
RATE=10807 ;N/m
PRELOAD=0.0			;meters
PRELOAD_FORCE=1672 ;N - this can be used in cases where spring length is desired to always be the same at static ride height, regardless of the spring used. In this case, the car is using a pushrod for ride height and it is desired that the dampers stay at "design" length, so preload force is used.
POS_A=0.180250, 0.577750, -0.070541
POS_B=0.16548, 0.048939, -0.00553
MIN_LENGTH=0.313051   ;minimum length of the damper (where it hits the hard stops and limits suspension travel)
MAX_LENGTH=0.631369        ;maximum length of the damper
BUMPSTOP_GAP=0.135              ;the gap to the bumpstop (when suspension is at the design length of the damper - ie sqrt((pos0-pos1)^2)). Alt: travel above 0 design where bumpstop begins
ELECT_LOG=CORNER                ;CORNER or HEAVE ; only use this once per axle, it designates that the coilover travel should be logged to certain channels as the designated corner/heave damper travel for the axle

DAMP_BUMP=1646.4                              ; Damper wheel rate stiffness in N sec/m in slow speed compression
DAMP_FAST_BUMP=607.6;Note: v0.2+. For setup functionality, dampers.ini is still required. Only use "simple" rates for non-adjustable dampers.
DAMP_FAST_BUMPTHRESHOLD=0.055
DAMP_REBOUND=4508
DAMP_FAST_REBOUND=1313.2
DAMP_FAST_REBOUNDTHRESHOLD=0.063

; TODO set bump stop/packer values
; 230mm total shock travel, 50mm bumpstop (but it's broken so I don't know how big it should be)
; If I understand correctly, this means PACKER_RANGE should be 230mm-50mm, and BUMPSTOP_UP + BUMPSTOP_DN should be 230mm, all divided by the MR (0.85)
; Thus total range is 270mm
;      PACKER_RANGE is 210
;BUMP_STOP_RATE=50000 ; bump stop spring rate
;BUMPSTOP_UP=0.189 ; meters to upper bumpstop from the 0 design of the suspension
;BUMPSTOP_DN=0.111 ; meters to bottom bumpstop from the 0 design of the suspension
;PACKER_RANGE=0.210 ; Total suspension movement range, before hitting packers
;
; this comes from the values in the manual, with a motion raio of 0.85
;DAMP_FAST_BUMP=475                            ; Damper wheel rate stiffness in N sec/m in fast speed compression
;DAMP_FAST_BUMPTHRESHOLD=0.115                ; Damper bump slow/fast threshold in m/s
;DAMP_REBOUND=2830                            ; Damper wheel rate stiffness in N sec/m in slow speed rebound
;DAMP_FAST_REBOUND=990                        ; Damper wheel rate stiffness in N sec/m in fast speed rebound
;DAMP_FAST_REBOUNDTHRESHOLD=0.1


[GRAPHICS_OFFSETS]
WHEEL_LF=-0.0                                ; Left front graphical offset of the wheel positioning in the x axis (width). + is left - is right movement
SUSP_LF=-0.0                                ; Left front graphical offset of the suspension positioning in the x axis (width). + is left - is right movement
WHEEL_RF=0.0                                ; Right front as above
SUSP_RF=0.0                                    ; Right front as above
WHEEL_LR=-0.0                                ; Left rear as above
SUSP_LR=-0.0                                ; Left rear as above
WHEEL_RR=0.0                                ; Right rear as above
SUSP_RR=0.0                                    ; Right rear as above

[DAMAGE]
MIN_VELOCITY=30                                ; MINUMUM VELOCITY TO START TAKING DAMAGE
GAIN=0.0006                                    ; AMOUNT OF STEER ROD DEFLECTION FOR IMPACT KMH
MAX_DAMAGE=0.05                                ; MAXIMUM AMOUNT OF STEER ROD DEFLECTION ALLOWED
DEBUG_LOG=1                                    ; ACTIVATES DAMAGE DEBUG IN THE LOG
